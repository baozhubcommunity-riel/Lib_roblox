--== INFLUENT STYLE MENU (ONE SCRIPT VERSION) ==--

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer

--===== CREATE GUI =====--

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "InfluentMenu"
ScreenGui.Parent = player:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

local Main = Instance.new("Frame")
Main.Name = "Main"
Main.Size = UDim2.new(0, 420, 0, 300)
Main.Position = UDim2.new(0.5, 0, -1, 0)
Main.AnchorPoint = Vector2.new(0.5, 0.5)
Main.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
Main.Parent = ScreenGui

local UICorner = Instance.new("UICorner", Main)
UICorner.CornerRadius = UDim.new(0, 12)

local UIStroke = Instance.new("UIStroke", Main)
UIStroke.Color = Color3.fromRGB(0, 255, 255)
UIStroke.Thickness = 2

-- Title
local Title = Instance.new("TextLabel")
Title.Parent = Main
Title.Text = "Influent X Style"
Title.Size = UDim2.new(1, -40, 0, 40)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(0, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 24

-- Close Button
local CloseBtn = Instance.new("TextButton")
CloseBtn.Parent = Main
CloseBtn.Size = UDim2.new(0, 35, 0, 35)
CloseBtn.Position = UDim2.new(1, -40, 0, 5)
CloseBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 20
Instance.new("UICorner", CloseBtn)

-- Tab Buttons Frame
local TabButtons = Instance.new("Frame")
TabButtons.Parent = Main
TabButtons.Size = UDim2.new(0, 120, 1, -50)
TabButtons.Position = UDim2.new(0, 0, 0, 50)
TabButtons.BackgroundTransparency = 1

-- Content Frame
local Content = Instance.new("Frame")
Content.Parent = Main
Content.Size = UDim2.new(1, -130, 1, -60)
Content.Position = UDim2.new(0, 130, 0, 50)
Content.BackgroundTransparency = 1

--===== CREATE 2 TABS =====--

local function CreateTab(name, order)
    local btn = Instance.new("TextButton")
    btn.Name = name
    btn.Parent = TabButtons
    btn.Size = UDim2.new(1, -10, 0, 35)
    btn.Position = UDim2.new(0, 5, 0, (order - 1) * 40)
    btn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    btn.Text = name
    btn.TextColor3 = Color3.fromRGB(200, 200, 200)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 16
    Instance.new("UICorner", btn)

    local page = Instance.new("Frame")
    page.Name = name
    page.Parent = Content
    page.Size = UDim2.new(1, 0, 1, 0)
    page.BackgroundTransparency = 1

    local label = Instance.new("TextLabel")
    label.Parent = page
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.GothamBold
    label.TextScaled = true
    label.Text = "You are in "..name.." Tab"

    page.Visible = (order == 1)

    btn.MouseButton1Click:Connect(function()
        -- Hide all pages
        for _, pg in pairs(Content:GetChildren()) do
            if pg:IsA("Frame") then pg.Visible = false end
        end
        page.Visible = true

        -- Button highlight
        TweenService:Create(btn, TweenInfo.new(.25), {
            BackgroundColor3 = Color3.fromRGB(0, 255, 255)
        }):Play()
        task.delay(.3, function()
            TweenService:Create(btn, TweenInfo.new(.25), {
                BackgroundColor3 = Color3.fromRGB(30, 30, 30)
            }):Play()
        end)
    end)

    return btn, page
end

CreateTab("Tab1", 1)
CreateTab("Tab2", 2)
CreateTab("Settings", 3)

--===== DRAGGING =====--

local dragging = false
local dragInput, dragStart, startPos

Main.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = Main.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

Main.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        Main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
            startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

--===== CLOSE BUTTON =====--

CloseBtn.MouseEnter:Connect(function()
    TweenService:Create(CloseBtn, TweenInfo.new(.2), {
        BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    }):Play()
end)

CloseBtn.MouseLeave:Connect(function()
    TweenService:Create(CloseBtn, TweenInfo.new(.2), {
        BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    }):Play()
end)

CloseBtn.MouseButton1Click:Connect(function()
    TweenService:Create(Main, TweenInfo.new(.35, Enum.EasingStyle.Quad), {
        Position = UDim2.new(0.5, 0, -1, 0)
    }):Play()
end)

--===== OPEN ANIMATION =====--

TweenService:Create(Main, TweenInfo.new(.5, Enum.EasingStyle.Quad), {
    Position = UDim2.new(0.5, 0, 0.5, 0)
}):Play()
